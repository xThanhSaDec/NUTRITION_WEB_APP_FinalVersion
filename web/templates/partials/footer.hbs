<footer id="footer" class="footer position-relative bg-light mt-4">
	<div class="container footer-top py-4">
		<div class="row gy-4">
			<div class="col-lg-4 col-md-6 footer-about">
				<a href="/" class="logo d-flex align-items-center text-decoration-none">
					<span class="sitename h5 m-0">NutriDish</span>
				</a>
				<p class="mt-3 mb-2">Personal nutrition tracker and AI-powered meal analyzer. Log dishes, track macros, and hit your daily targets.</p>
				<div class="footer-contact pt-2 small">
					<p class="mb-1"><strong>Address:</strong> <span>Team 03 – University of Technology and Education (HCMUTE)</span></p>
					<p class="mb-1"><strong>Email:</strong> <span>support@nutridish.local</span></p>
					<p class="mb-0"><strong>Hotline:</strong> <span>1900 1234</span></p>
				</div>
				<div class="social-links d-flex gap-2 mt-3">
					<a href="#" title="Facebook" class="text-body"><i class="bi bi-facebook"></i></a>
					<a href="#" title="YouTube" class="text-body"><i class="bi bi-youtube"></i></a>
					<a href="#" title="Instagram" class="text-body"><i class="bi bi-instagram"></i></a>
					<a href="#" title="LinkedIn" class="text-body"><i class="bi bi-linkedin"></i></a>
				</div>
			</div>

			<div class="col-lg-2 col-md-3 footer-links">
				<h4 class="h6">Navigation</h4>
				<ul class="list-unstyled m-0">
					<li class="mb-1"><a href="/">Home</a></li>
					<li class="mb-1"><a href="/upload">Upload</a></li>
					<li class="mb-1"><a href="/today">Today</a></li>
					<li class="mb-1"><a href="/history">Dish Log</a></li>
					<li class="mb-1"><a href="/statistic">Statistics</a></li>
					<li class="mb-1"><a href="/profile">Profile</a></li>
					<li class="mb-1"><a href="/login">Login</a></li>
				</ul>
			</div>

			<div class="col-lg-2 col-md-3 footer-links">
				<h4 class="h6">Features</h4>
				<ul class="list-unstyled m-0">
					<li class="mb-1"><a href="/upload">Meal detection (AI)</a></li>
					<li class="mb-1"><a href="/today">Daily targets</a></li>
					<li class="mb-1"><a href="/history">Macro tracking</a></li>
					<li class="mb-1"><a href="/statistic">Trends & streaks</a></li>
					<li class="mb-1"><a href="/profile">Personalization</a></li>
				</ul>
			</div>

			<div class="col-lg-4 col-md-12 footer-newsletter">
				<h4 class="h6">Our Newsletter</h4>
				<p class="small">Subscribe to get updates, tips, and special offers from the team.</p>
				<form id="newsletter-form" class="d-flex flex-wrap gap-2" novalidate>
					<input type="email" name="email" id="newsletter-email" class="form-control" placeholder="Enter your email" required style="max-width: 320px;" />
					<button type="submit" class="btn btn-primary">Subscribe</button>
					<div class="w-100"></div>
					<div class="loading small text-muted d-none">Loading...</div>
					<div class="error-message small text-danger d-none">An error occurred, please try again!</div>
					<div class="sent-message small text-success d-none">Thank you for subscribing to our newsletter!</div>
				</form>
			</div>
		</div>
	</div>

	<div class="container text-center mt-3 pb-3">
		<p class="mb-1">© <span>Copyright</span> <strong class="px-1 sitename">NutriDish</strong> <span>2025. All Rights Reserved.</span></p>
		<div class="credits small">
			<a href="#">Terms of Service</a> |
			<a href="#">Privacy Policy</a> |
			<a href="#">Contact</a>
		</div>
	</div>
</footer>

<script>
	// Lightweight newsletter handler: client-side acknowledgement
	(function(){
		const form = document.getElementById('newsletter-form');
		if(!form) return;
		form.addEventListener('submit', async (e)=>{
			e.preventDefault();
			const loading = form.querySelector('.loading');
			const error = form.querySelector('.error-message');
			const sent = form.querySelector('.sent-message');
			loading && loading.classList.remove('d-none');
			error && error.classList.add('d-none');
			sent && sent.classList.add('d-none');
			try{
				// No backend endpoint yet — simulate success UX
				await new Promise(r=>setTimeout(r, 600));
				loading && loading.classList.add('d-none');
				sent && sent.classList.remove('d-none');
				const email = form.querySelector('#newsletter-email');
				if(email) email.value = '';
				if(window.Swal){ Swal.fire({ icon: 'success', title: 'Subscribed', text: 'Thank you for subscribing!' }); }
			}catch(_){
				loading && loading.classList.add('d-none');
				error && error.classList.remove('d-none');
				if(window.Swal){ Swal.fire({ icon: 'error', title: 'Subscription failed', text: 'Please try again later.' }); }
			}
		});
	})();
</script>